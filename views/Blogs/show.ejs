
<% layout('layout/boilerplate')%>
<script>
    if(nextid.equals(post._id))
     {
        buttonnext= document.querySelector('#colornext');
        buttonnext.disabled=true;
     }
</script>
<style>
    body{
    background-color: hsl(171, 100%, 41%);
   }
 #colorme{
     background-color: hsl(171, 100%, 41%);
 }
 #colort, #colorprevious, #colornext{
     color: hsl(171, 100%, 41%);
 }
#grid{
    display:grid;
    border-radius: 30px;  
}
#rightcard{
    border-radius: 30px;
}
#blog{
    grid-column: 1;
    
    background-color: black;
}
#comment{
    grid-column: 2;
}
#image{
    
    border-radius: 20px;
    max-width: 500px;
   max-height: 400px;
}
#imagediv
{
    display: flex;
    justify-content: center;
}
#cardheader{
    border-top-left-radius: 30px;
    border-top-right-radius: 30px;
}
#cardfooter{
    border-bottom-left-radius: 30px;
    border-bottom-right-radius: 30px;
}
#cardfooter2{
    border-bottom-left-radius: 30px;
    border-bottom-right-radius: 30px;

}
#commentcard{
    
}

#commentcontent{
    max-width: 200px;
}
#textcenter{
    display: flex;
    justify-content: center;
}
</style>
<!-- <script>
    let getid;
    for(let post of posts){ 
        if(post._id === post._id){ 
            getid=post._id;
        }
    } 
</script> -->

<!-- <span> `currentid=${post._id} | nextid=${nextid}` </span> -->
<div class="row">
    

    <div class="col">
        <a class=" btn btn-light mb-2 p-3 rounded-pill shadow-lg" id="colorprevious" href="#"><i class="fas fa-arrow-left mr-2"> </i><strong><b>PREVIOUS</b></strong> </a>
    </div>
    <div class="col">
        <div class="d-flex justify-content-center">
            <%- include('../partials/flash')%>
        </div>
         
    </div>
    <div class="col ">
        <div class="d-flex justify-content-end">
            <a class=" btn btn-light mb-2 p-3 rounded-pill shadow-lg " id="colornext" href="/main/<%= nextid %> "><strong><b>NEXT</b></strong> <i class="fas fa-arrow-right ml-2"> </i></a>
        </div>
        
    </div>
    
</div>
<div class="row mt-0 pt-0 mb-3" id="template">
    <div class="card col-lg-8 mx-0 p-0 shadow-lg" id="grid"  >
        <div class="card-header" id="cardheader">
            Author
        </div>
        <div class="carousel" id="imagediv">
            <div class="carousel slide" data-ride="carousel">
                <div class="carousel-inner">
                    <div class="carousel-item active">
                        <img class="card-img-top py-1 px-1 d-block" id="image" src="https://images.unsplash.com/photo-1633114127451-558041183c3b?ixid=MnwxMjA3fDF8MHxlZGl0b3JpYWwtZmVlZHwxfHx8ZW58MHx8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"  alt="">
                    </div>
                    <div class="carousel-item">
                        <img class="card-img-top py-1 px-1 d-block" id="image" src="https://images.unsplash.com/photo-1633114127408-af671c774b39?ixid=MnwxMjA3fDF8MHxlZGl0b3JpYWwtZmVlZHwxMXx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"  alt="">
                    </div>
                    <div class="carousel-item">
                        <img class="card-img-top py-1 px-1 d-block" id="image" src="https://images.unsplash.com/photo-1593642634367-d91a135587b5?ixid=MnwxMjA3fDF8MHxlZGl0b3JpYWwtZmVlZHwyNnx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="">
                    </div>
                </div>
                <a class="carousel-control-prev" href="#imagediv" role="button" data-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="sr-only">Previous</span>
                </a>
                <a class="carousel-control-next" href="#imagediv" role="button" data-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="sr-only">Next</span>
                </a>
            </div>
            
        </div>
        
        <!--  <div class="card-body">
              post.image
         </div> -->
         <div class="card-body">
           <h5 class="card-title " id="textcenter"><%= post.title %></h5>
           
         </div>
         <ul class="list-group list-group-flush ">
            <p class="card-text p-3 m-1" id="textcenter"><%= post.content %></p>
            <hr>
           <li class="list-group-item"><%= post.date %></li>
         </ul>
           <div class="card-footer" id="cardfooter">
           
             <a href="/main/<%= post._id %>/edit " class="btn shadow-lg text-light" id="colorme"><b>EDIT</b></a>
               <form class="btn mb-0" action="/main/<%= post._id %>?_method=DELETE" method="post">
                  <button class=" btn btn-danger shadow-lg" ><b>DELETE</b></button>
               </form>
           </div>     
    </div>
    <div class="col-lg-4  mx-0 p-0 shadow-lg" id="grid">
        <div class="card" id="rightcard">
                <div class="" id="comment">
                    <div class="card-header " id="cardheader"> <strong>Comments</strong></div>
                    <div id="commentcontent container">
                       <% for(let comment of post.comments){ %> 
                        <div class="p-2 m-2 container-fluid row">
                            <div class="card rounded-pill col" id="commentcard" >
                                
                                  <span class="m-2"><%= comment.body %></span>  
                                
                                
                            </div>
                            <form class="col-auto" action="/main/<%= post._id %>/comments/<%= comment._id %>?_method=DELETE" method="post">
                                <button class=" p-2 btn btn-danger rounded-circle m-2 shadow-lg"><i class="fas fa-minus m-1"></i></button>
                            </form> 
                        </div>
                        
                        <% } %> 
                    </div>
                    <div class="card-footer " id="cardfooter2">
                         <form class="validated-form row" action="/main/<%= post._id %>/comments" method="post" novalidate>
                             <div class="col">
                                 <div class=""><textarea class="form-control p-2 m-2 rounded-pill shadow-lg" name="comment[body]" id="body" cols="30" rows="1" required></textarea> </div>
                             </div>
                             <div class="col-auto">
                                <button class=" p-2 btn btn-success rounded-circle m-2 shadow-lg"><i class="fas fa-plus m-1"></i></button>
                             </div>
                         </form>
                   </div>
               </div>
        </div>
        
    </div>
    
</div>

<!-- <div class=" d-lg-none  p-2 m-2" >
    <div>Comment</div>
</div> -->
<div class="carousel" id="carousel">
    <div class="carousel slide" data-ride="carousel"></div>
        <div class="carousel-inner">
          
            <div class="carousel-item">
                <img class="card-img-top py-1 px-1 d-block" id="image" src="https://images.unsplash.com/photo-1633114127408-af671c774b39?ixid=MnwxMjA3fDF8MHxlZGl0b3JpYWwtZmVlZHwxMXx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"  alt="">
            </div>
            <div class="carousel-item  active">
               
            </div>
         

        </div>
        
        
       
    </div>
</div>






 